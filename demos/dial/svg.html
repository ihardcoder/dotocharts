<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dial chart demo</title>
    <script src="../../dest/dotocharts.svg.js" charset="utf-8"></script>
    <style type="text/css">
    #container{
      width:300px;
      height:500px;
      margin: 10px auto;
    }
    @media screen and (min-width: 700px){
      #container{
        width: 400px;
      }
    }
    </style>
  </head>
  <body style='background-color: #3D5865;'>
    <div id="container" >

    </div>
    <script type="text/javascript">
    // 测试数据
    var mockData = {
      name:'团队效率评估',
      score: 80,
      rank: '34%',
      children:[
        {
          name: '组织效率',
          score: 80,
          color: '#4CAF50'
        },
        {
          name: '沟通效率',
          score: 60,
          color: '#E91E63'
        },
        {
          name: '协作效率',
          score: 100,
          color: '#FFEB3B'
        }
      ]};
    var dial = new ykcharts.Dial(document.getElementById("container"),{
      conf:{
        // size: 300,
        fontSize: 18,
        fontFamily: 'yahei,sans-serif',
        fontColor: '#fff',
        responsive: false
      },
      dataset: mockData
    });
    // 宽度自适应
    var size = parseInt(d3.select("#container").style('width'));
    window.onresize = function(e){
      var _size = parseInt(d3.select("#container").style('width'));
      if(_size === size){
        return;
      }
      size = _size;
      console.log('resize');
      dial.update({
        size: _size
      });
    }
    </script>
  </body>
</html>
